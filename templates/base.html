<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{%block title%}FLYTAU{%endblock%}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>

<body class="{% block body_class %}{% endblock %}">
    <header class="top_bar">
        <div class="container top_bar_inner">
            <a class="brand" href="{{ url_for('home') }}">
              <img src="{{ url_for('static', filename='img/logo1.png') }}" alt="FLYTAU Logo" class="nav-logo">
            </a>
            <nav class="nav">
                <a href="{{ url_for('home') }}"
                   class="{% if request.endpoint == 'home' %}active{% endif %}">
                    Home
                </a>

                <a href="{{ url_for('book') }}"
                   class="{% if request.endpoint == 'book' %}active{% endif %}">
                    Book a flight
                </a>

                <a href="{{ url_for('tickets') }}"
                    class="{% if request.endpoint == 'tickets' %}active{% endif %}">
                    My Tickets
                </a>

                <a href="{{ url_for('admin') }}"
                    class="nav-right {% if request.endpoint == 'admin' %}active{% endif %}">
                    Admin
                </a>

                {% if session.get("user_email") %}
                  <span class="nav-user">Logged in: {{ session.get("user_email") }}</span>

                  <a class="btn btn-outline {% if request.endpoint == 'logout' %}active{% endif %}"
                     href="{{ url_for('logout') }}">
                    Logout
                  </a>

                {% else %}
                  <a href="{{ url_for('login') }}"
                     class="{% if request.endpoint == 'login' %}active{% endif %}">
                      Login
                  </a>
                {% endif %}
            </nav>
        </div>
    </header>

    <main class="container">
        {% with messages = get_flashed_messages(with_categories=true) %}
          {% if messages %}
            <div class="flash-wrap">
              {% for category, msg in messages %}
                <div class="flash flash-{{ category }}">{{ msg }}</div>
              {% endfor %}
            </div>
          {% endif %}
        {% endwith %}

        {% block content %}{% endblock %}
    </main>

</body>
</html>
