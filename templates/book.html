{% extends "base.html" %}
{% block content %}

<div class="board">
  <!-- Search row -->
  <form class="board-search" method="get" action="{{ url_for('book') }}">
    <div class="board-field">
      <label>Origin</label>
      <select name="origin" required>
        <option value="">Select Origin</option>
        {% for a in airports %}
          <option value="{{ a }}" {% if origin == a %}selected{% endif %}>{{ a }}</option>
        {% endfor %}
      </select>
    </div>

    <div class="board-field">
      <label>Destination</label>
      <select name="destination" required>
        <option value="">Select Destination</option>
        {% for a in airports %}
          <option value="{{ a }}" {% if destination == a %}selected{% endif %}>{{ a }}</option>
        {% endfor %}
      </select>
    </div>

    <button class="btn" type="submit">Search</button>
  </form>

  <!-- Results table -->
  <div class="board-table-wrap">
    <table class="board-table">
      <thead>
        <tr>
          <th>Flight No.</th>
          <th>From City</th>
          <th>To City</th>
          <th>Date</th>
          <th>Time</th>
          <th>From Price</th>
          <th>Book</th>
        </tr>
      </thead>

      <tbody>
        {% if flights and flights|length > 0 %}
          {% for f in flights %}
          <tr>
            <td>{{ f.flight_id }}</td>
            <td>{{ f.origin_airport }}</td>
            <td>{{ f.destination_airport }}</td>
            <td>{{ f.takeoff_date }}</td>
            <td>{{ f.takeoff_time }}</td>
            <td>â‚ª{{ f.from_price }}</td>
            <td>
              <a class="book-btn" href="{{ url_for('flight_details', flight_id=f.flight_id) }}">Book</a>
            </td>
          </tr>
          {% endfor %}
        {% else %}
          <tr>
            <td colspan="7" class="empty-row">No flights found. Try searching.</td>
          </tr>
        {% endif %}
      </tbody>
    </table>
  </div>

  <!-- Pagination (UI only for now) -->
  <div class="board-pager">
    <button class="pager-btn" type="button" disabled>Previous</button>
    <button class="pager-btn" type="button" disabled>Next</button>
  </div>
</div>

{% endblock %}